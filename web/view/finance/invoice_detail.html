<!-- 主菜单：财务管理 -> 发票管理（发票详情） 画面 -->

<!-- 返回前画面 按钮 -->
<div class="row valign-wrapper">
    <a class="btn-floating btn waves-effect cyan lighten-1 waves-light" ng-click="return()">
        <i class="mdi mdi-arrow-left-bold"></i>
    </a>
    <h5 class="col s12 cyan-text lighten-1 center-align">发票详情</h5>
</div>
<div class="row">
    <div class="col s12 p0" style="border-bottom: 1px solid #407BC7;border-top: 2px solid #407BC7">
        <ul class="tabWrap grey lighten-4 ">
            <li class="tab col s3 vc-center invoiceDiv"   ng-click="lookInvoiceInfo()">发票信息</li>
            <li class="tab col s3 vc-center lookRelatedOrder" ng-click="lookRelatedOrder()">关联仓储订单</li>
            <li class="tab col s3 vc-center invoiceShipOrderDiv" ng-click="lookShipTransOrder()">关联海运订单</li>
            <li class="tab col s3 vc-center paymentDiv" ng-click="lookPayment()">关联还款</li>
        </ul>
    </div>
</div>

<!-- 主画面 -->
<div class="row no-marBottom" ul-tabs>
    <!-- 发票信息 -->
    <div id="invoiceDiv" class="col s12 tab_box" style="width: 90%; margin:0 5% ">
        <!--未发状态下-->
        <div ng-show='invoiceInfo.invoiceStatus==1'>
            <div class="modal-content">
                <div class="row col s12 bold" style="color:#4e84cb ;margin-top: 20px;">
                    <div class="col s6 left-align">发票编号：{{invoiceInfo.invoiceId}}</div>
                    <div class="col s6 right-align" ng-class="{'red-text':invoiceInfo.invoiceStatus==1}">{{invoiceStatus[invoiceInfo.invoiceStatus-1].name}}</div>
                </div>
                <div class="row col s12">
                    <!-- 发票金额(美元) -->
                    <div class="input-field col s12">
                        <input type="text" id="invoiceMoneyText" maxlength="8" valid-money ng-model="invoiceInfo.invoiceMoney">
                        <label for="invoiceMoneyText"><span class="red-text">*</span>发票金额(美元)</label>
                    </div>
                </div>
                <div class="row col s12">
                    <!-- 委托方性质 -->
                    <div class="input-field col s6">
                        <select material-select watch ng-model="invoiceInfo.entrustType" ng-change="clearSelectEntrust()">
                            <option value="" disabled>委托方性质</option>
                            <option ng-repeat="el in entrustTypeList" ng-value="el.entrust_type">{{el.name}}</option>
                        </select>
                    </div>

                    <!-- 委托方 -->
                    <div class="input-field col s6">
                        <select id="entrustSelect" style="width: 100%;"></select>
                    </div>
                </div>
                <!-- 备注 -->
                <div class="row col s12">
                    <div class="input-field col s12">
                        <textarea id="remarkText" class="materialize-textarea" style="padding: 10px 0 0 0;" maxlength="200" ng-model="invoiceInfo.remark"></textarea>
                        <label for="remarkText">备注</label>
                    </div>
                </div>
                <div ng-show="false" class="row col s12" style="margin-bottom: 35px;color:grey;">
                    <div class="col s6 ">开票人: {{invoiceInfo.invoiceUserName}}</div>
                    <div class="col s6 right-align">开票时间: {{invoiceInfo.grantDate |date:'yyyy-MM-dd HH:mm'}}</div>
                </div>
            </div>
            <div class="row col s12" style="margin-top: 30px">
                <div class="col s2 offset-s3">
                    <a ng-click="updateInvoiceInfo()" style="width: 100%" class="waves-light waves-effect cyan lighten-2 btn">保存</a>
                </div>
                <div class="col s2">
                    <a ng-click="previewInvoice()" style="width: 100%" class="waves-light waves-effect cyan lighten-2 btn">发票预览</a>
                </div>
                <div class="col s2">
                    <a ng-click="updateInvoiceStatus()" style="width: 100%;background-color:#f0ad4e;" class="waves-light waves-effect lighten-1 btn">发放</a>
                </div>
            </div>
        </div>
        <!--已发状态下-->
        <div  ng-show='invoiceInfo.invoiceStatus==2'>
            <div class="modal-content">
                <div class="row col s12 bold" style="color:#4e84cb ;margin-top: 20px;">
                    <div class="col s12">
                        <div class="col s6">发票编号: {{invoiceInfo.invoiceId}}</div>
                        <div class="col s6 right-align">{{invoiceStatus[invoiceInfo.invoiceStatus-1].name}}</div>
                    </div>
                </div>
                <!--实分割线-->
                <div  class="row col s12" style="height:2px;border-bottom: 1px solid #ccc;width:96%;margin-left: 2%"></div>

                <!-- 应开发票金额 实开发票金额-->
                <div class="row col s12">
                    <div class="col s6 left-align">
                        <div class="col s12">
                            应开发票金额(美元): <span class="red-text">{{totalStorageMoney + totalShipTransMoney + totalPaymentMoney | number}}</span>
                        </div>
                    </div>
                    <div class="col s6 valign-wrapper">
                        <div class="col s12 left-align">
                            实开发票金额(美元): <span class="red-text">{{invoiceInfo.invoiceMoney | number}}</span>
                        </div>
                    </div>
                </div>

                <!--虚分割线-->
                <div  class="row col s12" style="height:1px;border-bottom: 1px dotted #ccc;width:96%;margin-left: 2%"></div>

                <!-- 委托方性质 委托方-->
                <div class="row col s12">
                    <div class="col s12 valign-wrapper">
                        <div class="col s12 left-align">
                            委托方: {{invoiceInfo.entrustNm}}
                        </div>
                    </div>
                </div>

                <!--虚分割线-->
                <div  class="row col s12" style="height:1px;border-bottom: 1px dotted #ccc;width:96%;margin-left: 2%"></div>

                <!-- 备注-->
                <div class="row col s12">
                    <div class="col s6 left-align">
                        <div class="col s12">
                            备注: {{invoiceInfo.remark}}
                        </div>
                    </div>
                </div>
                <!--实分割线-->
                <div  class="row col s12" style="height:2px;border-bottom: 1px solid #ccc;width:96%;margin-left: 2%"></div>
            </div>

            <div class="row col s12" style="margin-top: 30px">
                <div class="col s2 offset-s5">
                    <a ng-click="previewInvoice()" style="width: 100%" class="waves-light waves-effect cyan lighten-2 btn">发票预览</a>
                </div>
            </div>
        </div>
    </div>

    <!--关联仓储订单的详细信息-->
    <div id="lookRelatedOrder" class="col s12 tab_box" style="width: 100%;">
        <!--条件分支 未发-->
        <div ng-show='invoiceInfo.invoiceStatus==1'>
            <!-- 发票金额 应开发票总额 -->
            <div class="col s12 fz14" style="margin-bottom: 20px;">
                <div class="col s12 cyan-text">
                    <div class="col s6 left-align blue-grey lighten-5" style="height:50px; padding-top: 15px; border: 1px solid lightgrey;border-right: 0">
                        发票金额(美元): <span class="red-text">{{invoiceInfo.invoiceMoney | currency}}</span>
                    </div>
                    <div class="col s6 right-align blue-grey lighten-5" style="height:50px; padding-top: 15px; border: 1px solid lightgrey;border-left: 0">
                        应开发票总额(美元): <span class="red-text">{{totalStorageMoney + totalShipTransMoney + totalPaymentMoney | currency}}</span>
                    </div>
                </div>
            </div>

            <!-- 委托方未开发票订单 无订单 -->
            <div class="col s6" ng-show="storageOrderList.length==0">
                <div  class="col s12 left">
                    <div class="card" style="border: 2px solid #ccc">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            委托方未开发票订单
                        </div>
                        <div class="card-content">
                            <div style="height:200px;line-height: 200px;text-align: center">
                                <i class="mdi  mdi-alert-circle-outline red-text fz30"></i>
                                <span class="bold grey-text fz22">委托方暂无已支付未开发票订单</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 委托方未开发票订单 有订单 -->
            <div class="col s6" ng-show="storageOrderList.length!==0">
                <div  class="col s12 left">
                    <div class="card" style="border: 2px solid #ccc;height:auto">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            委托方未开发票订单
                        </div>
                        <div class="card-content">
                            <table class="bordered centered" style="width: 100%;">
                                <thead>
                                <tr class="grey-text text-darken-2">
                                    <th data-field="">订单编号</th>
                                    <th data-field="">VIN</th>
                                    <th data-field="">日期范围</th>
                                    <th data-field="">天数</th>
                                    <th data-field="">支付(美元)</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="el in storageOrderList" class="grey-text text-darken-1" style="height:30px">
                                    <td ng-bind="el.id"></td>
                                    <td ng-bind="el.vin"></td>
                                    <td>{{el.enter_time |date:'yyyy-MM-dd'}} 至 {{el.real_out_time |date:'yyyy-MM-dd'}}</td>
                                    <td>{{el.day_count}}</td>
                                    <td class="red-text">{{el.actual_fee|currency}}</td>

                                    <!-- 显示画面按钮 -->
                                    <td class="operation">
                                        <a  ng-click="addInvoiceStorageOrderRel(el.id)" class="col s2 left" style="cursor: pointer">
                                            <i class="mdi mdi-plus-circle look_icon cyan-text lighten-1 fz25"></i>
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!--本次开发票订单 无订单-->
            <div class="col s6"  ng-show="invoiceStorageOrderRelList.length==0">
                <div  class="col s12 right">
                    <div class="card" style="border: 2px solid #ccc">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            本次开发票订单
                        </div>
                        <div class="card-content">
                            <div style="height:200px;line-height: 200px;text-align: center">
                                <i class="mdi  mdi-alert-circle-outline red-text fz30"></i>
                                <span class="bold grey-text fz22">委托方暂无本次开发票订单</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--本次开发票订单 有订单-->
            <div class="col s6"  ng-show="invoiceStorageOrderRelList.length!==0">
                <div  class="col s12 right">
                    <div class="card" style="border: 2px solid #ccc">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            本次开发票订单
                        </div>
                        <div class="card-content">
                            <table class="bordered centered" style="width: 100%;">
                                <thead>
                                <tr class="grey-text text-darken-2">
                                    <th data-field="">订单编号</th>
                                    <th data-field="">VIN</th>
                                    <th data-field="">日期范围</th>
                                    <th data-field="">天数</th>
                                    <th data-field="">支付(美元)</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="el in invoiceStorageOrderRelList" class="grey-text text-darken-1" style="height:30px">
                                    <td ng-bind="el.storage_order_id"></td>
                                    <td ng-bind="el.vin"></td>
                                    <td>{{el.enter_time |date:'yyyy-MM-dd'}} 至 {{el.real_out_time |date:'yyyy-MM-dd'}}</td>
                                    <td>{{el.day_count}}</td>
                                    <td class="red-text">{{el.actual_fee|currency}}</td>

                                    <!-- 显示画面按钮 -->
                                    <td class="operation">
                                        <a  ng-click="deleteInvoiceStorageOrderRel(el.storage_order_id)" class="col s2 left" style="cursor: pointer">
                                            <i class="mdi mdi-do-not-disturb look_icon red-text lighten-1 fz25"></i>
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="right-align" style="padding-right: 25px;padding-bottom: 15px;">应开发票金额(美元): <span class="red-text">{{totalStorageMoney | currency}}</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!--条件分支 已完结-->
        <div ng-show='invoiceInfo.invoiceStatus==2'>
            <!--条件分支 无订单-->
            <div  ng-show="invoiceStorageOrderRelList.length==0" >
                <div style="height:400px;line-height: 400px;text-align: center">
                    <i class="mdi  mdi-alert-circle-outline red-text fz30"></i>
                    <span class="bold grey-text fz22">委托方暂无本次开发票订单</span>
                </div>
            </div>

            <div ng-show='invoiceStorageOrderRelList.length!==0'>
                <div class="card" style="border: 2px solid #ccc;width:90%;margin:0 auto">
                    <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                        本次开发票订单
                    </div>
                    <div class="card-content">

                        <table class="bordered centered" style="width: 100%;">
                            <thead>
                            <tr class="grey-text text-darken-2">
                                <th data-field="">订单编号</th>
                                <th data-field="">VIN</th>
                                <th data-field="">日期范围</th>
                                <th data-field="">天数</th>
                                <th data-field="">支付(美元)</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="el in invoiceStorageOrderRelList" class="grey-text text-darken-1" style="height:30px">
                                <td ng-bind="el.storage_order_id"></td>
                                <td ng-bind="el.vin"></td>
                                <td>{{el.enter_time |date:'yyyy-MM-dd'}} 至 {{el.real_out_time |date:'yyyy-MM-dd'}}</td>
                                <td>{{el.day_count}}</td>
                                <td class="red-text">{{el.actual_fee|currency}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="right-align" style="padding-right: 25px;padding-bottom: 15px;">总金额(美元): <span class="red-text">{{totalStorageMoney | currency}}</span></div>
                </div>
            </div>
        </div>
    </div>

    <!--关联海运订单的详细信息-->
    <div id="invoiceShipOrderDiv" class="col s12 tab_box" style="width: 100%;">
        <!--条件分支 未完结-->
        <div ng-show='invoiceInfo.invoiceStatus==1'>

            <!-- 发票金额 应开发票总额 -->
            <div class="col s12 fz14" style="margin-bottom: 20px;">
                <div class="col s12 cyan-text">
                    <div class="col s6 left-align blue-grey lighten-5" style="height:50px; padding-top: 15px; border: 1px solid lightgrey;border-right: 0">
                        发票金额(美元): <span class="red-text">{{invoiceInfo.invoiceMoney | currency}}</span>
                    </div>
                    <div class="col s6 right-align blue-grey lighten-5" style="height:50px; padding-top: 15px; border: 1px solid lightgrey;border-left: 0">
                        应开发票总额(美元): <span class="red-text">{{totalStorageMoney + totalShipTransMoney + totalPaymentMoney | currency}}</span>
                    </div>
                </div>
            </div>

            <!--委托方未结仓海运订单 无订单-->
            <div class="col s6" ng-show="shipTransOrderList.length==0">
                <div  class="col s12 left">
                    <div class="card" style="border: 2px solid #ccc">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            委托方未开发票订单
                        </div>
                        <div class="card-content">
                            <div style="height:200px;line-height: 200px;text-align: center">
                                <i class="mdi  mdi-alert-circle-outline red-text fz30"></i>
                                <span class="bold grey-text fz22">委托方暂无已支付未开发票订单</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--委托方未结仓储订单 有订单(左侧)-->
            <div class="col s6" ng-show="shipTransOrderList.length!==0">
                <div  class="col s12 left">
                    <div class="card" style="border: 2px solid #ccc;height:auto">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            委托方未开发票订单
                        </div>
                        <div class="card-content">
                            <table class="bordered centered" style="width: 100%;">
                                <thead>
                                <tr class="grey-text text-darken-2">
                                    <th data-field="">订单编号</th>
                                    <th data-field="">VIN</th>
                                    <th data-field="">booking</th>
                                    <th data-field="">费用(美元)</th>
                                    <th data-field="">订单日期</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="el in shipTransOrderList" class="grey-text text-darken-1" style="height:30px">
                                    <!-- 订单编号 -->
                                    <td ng-bind="el.id"></td>
                                    <!-- VIN -->
                                    <td ng-bind="el.vin"></td>
                                    <!-- booking -->
                                    <td>{{el.booking}}</td>
                                    <!-- 费用(美元) -->
                                    <td class="red-text">{{el.total_fee|currency}}</td>
                                    <!-- 订单日期 -->
                                    <td>{{el.created_on |date:'yyyy-MM-dd'}}</td>
                                    <!-- 显示画面按钮 -->
                                    <td class="operation">
                                        <a  ng-click="addShipTransOderRel(el.id)" class="col s2 left" style="cursor: pointer">
                                            <i class="mdi mdi-plus-circle look_icon cyan-text lighten-1 fz25"></i>
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!--本次开发票订单 无订单-->
            <div class="col s6"  ng-show="invoiceShipOrderRelList.length==0">
                <div  class="col s12 right">
                    <div class="card" style="border: 2px solid #ccc">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            本次开发票订单
                        </div>
                        <div class="card-content">
                            <div style="height:200px;line-height: 200px;text-align: center">
                                <i class="mdi  mdi-alert-circle-outline red-text fz30"></i>
                                <span class="bold grey-text fz22">委托方暂无本次开发票订单</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--本次开发票订单 有订单-->
            <div class="col s6"  ng-show="invoiceShipOrderRelList.length!==0">
                <div  class="col s12 right">
                    <div class="card" style="border: 2px solid #ccc">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            本次开发票订单
                        </div>
                        <div class="card-content">
                            <table class="bordered centered" style="width: 100%;">
                                <thead>
                                <tr class="grey-text text-darken-2">
                                    <th data-field="">订单编号</th>
                                    <th data-field="">VIN</th>
                                    <th data-field="">booking</th>
                                    <th data-field="">费用(美元)</th>
                                    <th data-field="">订单日期</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="el in invoiceShipOrderRelList" class="grey-text text-darken-1" style="height:30px">
                                    <!-- 订单编号 -->
                                    <td ng-bind="el.ship_trans_order_id"></td>
                                    <!-- VIN -->
                                    <td ng-bind="el.vin"></td>
                                    <!-- booking -->
                                    <td>{{el.booking}}</td>
                                    <!-- 费用(美元) -->
                                    <td class="red-text">{{el.total_fee|currency}}</td>
                                    <!-- 订单日期 -->
                                    <td>{{el.ship_trans_order_date |date:'yyyy-MM-dd'}}</td>
                                    <!-- 显示画面按钮 -->
                                    <td class="operation">
                                        <a  ng-click="deleteShipTransOderRel(el.ship_trans_order_id)" class="col s2 left" style="cursor: pointer">
                                            <i class="mdi mdi-do-not-disturb look_icon red-text lighten-1 fz25"></i>
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="right-align" style="padding-right: 25px;padding-bottom: 15px;">应开发票金额(美元): <span class="red-text">{{totalShipTransMoney | currency}}</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!--条件分支 已完结-->
        <div ng-show='invoiceInfo.invoiceStatus==2'>
            <!--条件分支 无订单-->
            <div  ng-show="invoiceShipOrderRelList.length==0" >
                <div style="height:400px;line-height: 400px;text-align: center">
                    <i class="mdi  mdi-alert-circle-outline red-text fz30"></i>
                    <span class="bold grey-text fz22">委托方暂无本次开发票订单</span>
                </div>
            </div>

            <div ng-show='invoiceShipOrderRelList.length!==0'>
                <div class="card" style="border: 2px solid #ccc;width:90%;margin:0 auto">
                    <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                        本次开发票订单
                    </div>
                    <div class="card-content">

                        <table class="bordered centered" style="width: 100%;">
                            <thead>
                            <tr class="grey-text text-darken-2">
                                <th data-field="">订单编号</th>
                                <th data-field="">VIN</th>
                                <th data-field="">booking</th>
                                <th data-field="">费用(美元)</th>
                                <th data-field="">订单日期</th>
                                <th data-field=""></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="el in invoiceShipOrderRelList" class="grey-text text-darken-1" style="height:30px">
                                <!-- 订单编号 -->
                                <td ng-bind="el.ship_trans_order_id"></td>
                                <!-- VIN -->
                                <td ng-bind="el.vin"></td>
                                <!-- booking -->
                                <td>{{el.booking}}</td>
                                <!-- 费用(美元) -->
                                <td class="red-text">{{el.total_fee|currency}}</td>
                                <!-- 订单日期 -->
                                <td>{{el.ship_trans_order_date |date:'yyyy-MM-dd'}}</td>
                                <!-- 操作 -->
                                <td class="operation">
                                    <i class="mdi mdi-file-outline look_icon cyan-text lighten-1" ng-click="showShipFeeDetailDiv(el.ship_trans_order_id, el.vin)"></i>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="right-align" style="padding-right: 25px;padding-bottom: 15px;">总金额(美元): <span class="red-text">{{totalShipTransMoney | currency}}</span></div>
                </div>
            </div>
        </div>
    </div>

    <!--TAB [关联还款] 详细信息-->
    <div id="paymentDiv" class="col s12 tab_box" style="width: 100%;">
        <!--条件分支 未完结-->
        <div ng-show='invoiceInfo.invoiceStatus==1'>

            <!-- 发票金额 应开发票总额 -->
            <div class="col s12 fz14" style="margin-bottom: 20px;">
                <div class="col s12 cyan-text">
                    <div class="col s6 left-align blue-grey lighten-5" style="height:50px; padding-top: 15px; border: 1px solid lightgrey;border-right: 0">
                        发票金额(美元): <span class="red-text">{{invoiceInfo.invoiceMoney | currency}}</span>
                    </div>
                    <div class="col s6 right-align blue-grey lighten-5" style="height:50px; padding-top: 15px; border: 1px solid lightgrey;border-left: 0">
                        应开发票总额(美元): <span class="red-text">{{totalStorageMoney + totalShipTransMoney + totalPaymentMoney | currency}}</span>
                    </div>
                </div>
            </div>

            <!--委托方未结仓海运订单 无订单-->
            <div class="col s6" ng-show="loanRepaymentList.length==0">
                <div  class="col s12 left">
                    <div class="card" style="border: 2px solid #ccc">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            委托方未开发票订单
                        </div>
                        <div class="card-content">
                            <div style="height:200px;line-height: 200px;text-align: center">
                                <i class="mdi  mdi-alert-circle-outline red-text fz30"></i>
                                <span class="bold grey-text fz22">委托方暂无已支付未开发票订单</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--委托方未结仓储订单 有订单-->
            <div class="col s6" ng-show="loanRepaymentList.length!==0">
                <div  class="col s12 left">
                    <div class="card" style="border: 2px solid #ccc;height:auto">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            委托方未开发票订单
                        </div>
                        <div class="card-content">
                            <table class="bordered centered" style="width: 100%;">
                                <thead>
                                <tr class="grey-text text-darken-2">
                                    <th data-field="">还款编号</th>
                                    <th data-field="">贷出金额(美元)</th>
                                    <th data-field="">利率/天</th>
                                    <th data-field="">日期范围</th>
                                    <th data-field="">天数</th>
                                    <th data-field="">利息</th>
                                    <th data-field="">Lc Handling Fee</th>
                                    <th data-field="">Bank Services Fee</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="el in loanRepaymentList" class="grey-text text-darken-1" style="height:30px">
                                    <!-- 还款编号 -->
                                    <td ng-bind="el.id"></td>
                                    <!-- 贷出金额(美元) -->
                                    <td class="red-text">{{el.loan_money|currency}}</td>
                                    <!-- 利率/天 -->
                                    <td>{{el.rate}}%</td>
                                    <!-- 日期范围 -->
                                    <td>{{el.loan_start_date |date:'yy/MM/dd'}}-{{el.created_on |date:'yy/MM/dd'}}</td>
                                    <!-- 天数 -->
                                    <td ng-bind="el.day_count"></td>
                                    <!-- 利息(美元) -->
                                    <td class="red-text">{{el.interest_money|currency}}</td>
                                    <!-- Lc Handling Fee -->
                                    <td class="red-text">{{el.lc_handling_fee_total|currency}}</td>
                                    <!-- Bank Services Fee  -->
                                    <td class="red-text">{{el.bank_services_fee_total|currency}}</td>
                                    <!-- 显示画面按钮 -->
                                    <td class="operation">
                                        <a  ng-click="addInvoiceLoanRepRel(el.id)" class="col s2 left" style="cursor: pointer">
                                            <i class="mdi mdi-plus-circle look_icon cyan-text lighten-1 fz25"></i>
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!--本次开发票订单 无订单-->
            <div class="col s6"  ng-show="invoiceLoanRepRelList.length==0">
                <div  class="col s12 right">
                    <div class="card" style="border: 2px solid #ccc">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            本次开发票订单
                        </div>
                        <div class="card-content">
                            <div style="height:200px;line-height: 200px;text-align: center">
                                <i class="mdi  mdi-alert-circle-outline red-text fz30"></i>
                                <span class="bold grey-text fz22">委托方暂无本次开发票订单</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--本次开发票订单 有订单-->
            <div class="col s6"  ng-show="invoiceLoanRepRelList.length!==0">
                <div  class="col s12 right">
                    <div class="card" style="border: 2px solid #ccc">
                        <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                            本次开发票订单
                        </div>
                        <div class="card-content">
                            <table class="bordered centered" style="width: 100%;">
                                <thead>
                                <tr class="grey-text text-darken-2">
                                    <th data-field="">还款编号</th>
                                    <th data-field="">贷出金额(美元)</th>
                                    <th data-field="">利率/天</th>
                                    <th data-field="">日期范围</th>
                                    <th data-field="">天数</th>
                                    <th data-field="">利息(美元)</th>
                                    <th data-field="">Lc Handling Fee</th>
                                    <th data-field="">Bank Services Fee</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="el in invoiceLoanRepRelList" class="grey-text text-darken-1" style="height:30px">
                                    <!-- 还款编号 -->
                                    <td ng-bind="el.repayment_id"></td>
                                    <!-- 贷出金额(美元) -->
                                    <td class="red-text">{{el.loan_money|currency}}</td>
                                    <!-- 利率/天 -->
                                    <td>{{el.rate}}%</td>
                                    <!-- 日期范围 -->
                                    <td>{{el.loan_start_date |date:'yy/MM/dd'}}-{{el.repayment_date |date:'yy/MM/dd'}}</td>
                                    <!-- 天数 -->
                                    <td ng-bind="el.day_count"></td>
                                    <!-- 利息(美元) -->
                                    <td class="red-text">{{el.interest_money|currency}}</td>
                                    <!-- Lc Handling Fee -->
                                    <td class="red-text">{{el.lc_handling_fee_total|currency}}</td>
                                    <!-- Bank Services Fee -->
                                    <td class="red-text">{{el.bank_services_fee_total|currency}}</td>
                                    <!-- 显示画面按钮 -->
                                    <td class="operation">
                                        <a  ng-click="deleteInvoiceLoanRepRel(el.repayment_id)" class="col s2 left" style="cursor: pointer">
                                            <i class="mdi mdi-do-not-disturb look_icon red-text lighten-1 fz25"></i>
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="right-align" style="padding-right: 25px;padding-bottom: 15px;">应开发票金额(美元): <span class="red-text">{{totalPaymentMoney | currency}}</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!--条件分支 已完结-->
        <div ng-show='invoiceInfo.invoiceStatus==2'>
            <!--条件分支 无订单-->
            <div  ng-show="invoiceLoanRepRelList.length==0" >
                <div style="height:400px;line-height: 400px;text-align: center">
                    <i class="mdi  mdi-alert-circle-outline red-text fz30"></i>
                    <span class="bold grey-text fz22">委托方暂无本次开发票订单</span>
                </div>
            </div>

            <div ng-show='invoiceLoanRepRelList.length!==0'>
                <div class="card" style="border: 2px solid #ccc;width:90%;margin:0 auto">
                    <div class="card-content bold cyan-text fz18 left-align grey lighten-4" style="border-bottom: 2px solid #ccc">
                        本次开发票订单
                    </div>
                    <div class="card-content">

                        <table class="bordered centered" style="width: 100%;">
                            <thead>
                            <tr class="grey-text text-darken-2">
                                <th data-field="">订单编号</th>
                                <th data-field="">贷出金额(美元)</th>
                                <th data-field="">利率/天</th>
                                <th data-field="">日期范围</th>
                                <th data-field="">天数</th>
                                <th data-field="">利息(美元)</th>
                                <th data-field="">Lc Handling Fee</th>
                                <th data-field="">Bank Services Fee</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="el in invoiceLoanRepRelList" class="grey-text text-darken-1" style="height:30px">
                                <!-- 订单编号 -->
                                <td ng-bind="el.repayment_id"></td>
                                <!-- 贷出金额(美元) -->
                                <td class="red-text">{{el.loan_money|currency}}</td>
                                <!-- 利率/天 -->
                                <td>{{el.rate}}%</td>
                                <!-- 日期范围 -->
                                <td>{{el.loan_start_date |date:'yy/MM/dd'}}-{{el.repayment_date |date:'yy/MM/dd'}}</td>
                                <!-- 天数 -->
                                <td ng-bind="el.day_count"></td>
                                <!-- 利息(美元) -->
                                <td class="red-text">{{el.interest_money|currency}}</td>
                                <!-- Lc Handling Fee -->
                                <td class="red-text">{{el.lc_handling_fee_total|currency}}</td>
                                <!-- Bank Services Fee  -->
                                <td class="red-text">{{el.bank_services_fee_total|currency}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="right-align" style="padding-right: 25px;padding-bottom: 15px;">总金额(美元): <span class="red-text">{{totalPaymentMoney | currency}}</span></div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- 模态画面【费用明细】 模态框 -->
<div id="shipFeeDetailDiv" class="modal modal-fixed-footer row" style="max-height: 456px;">

    <!-- Header -->
    <div class="modal_title center-align cyan white-text">费用明细</div>

    <!-- Body -->
    <div class="modal-content" style="max-height: 350px;">

        <!-- 显示画面【费用明细】 Body -->
        <div class="col" style="width:95%; margin-left: 20px;">

            <!-- 分割线 -->
            <div class="col s12">
                <div class="col s6 left-align cyan-text" style="padding-left: 0">
                    订单编号：{{shipTransFee.shipTransOrderId}}
                </div>
                <div class="col s6 right-align cyan-text" style="padding-right: 0">
                    VIN：{{shipTransFee.vin}}
                </div>
            </div>

            <!-- 分割线 -->
            <div class="col s12">
                <div class="divider col s12" style="background-color: #c2c0c2;margin-top: 10px;margin-bottom: 10px;"></div>
            </div>

            <!-- 头部信息 -->
            <div ng-show="shipTransOrderFeeRelList.length > 0" class="col s12">
                <!-- 类别 -->
                <div class="col left-align" style="width:25%;">Item</div>
                <!-- 数量 -->
                <div class="col right-align" style="width:10%;">Qty</div>
                <!-- 费用(美元) -->
                <div class="col right-align" style="width:15%;">Amount</div>
                <!-- 备注 -->
                <div class="col center-align" style="width:50%;">备注</div>
            </div>

            <!-- 分割线 -->
            <div ng-show="shipTransOrderFeeRelList.length > 0" class="col s12">
                <div class="divider col s12" style="background-color: #c2c0c2;margin-top: 10px;margin-bottom: 10px;"></div>
            </div>


            <div ng-repeat="el in shipTransOrderFeeRelList" class="row grey-text text-darken-1" style="height:30px">

                <!-- 类别 -->
                <div class="col left-align" style="width:25%;">
                    {{shipTransFeeTypes[el.pay_type - 1].name}}
                </div>

                <!-- 数量 -->
                <div class="col right-align" style="width:10%;">
                    {{el.qty| number}}
                </div>

                <!-- 费用(美元) -->
                <div class="col right-align red-text" style="width:15%;">
                    {{el.pay_money| currency}}
                </div>

                <!-- 备注 -->
                <div class="col right-align context-ellipsis" style="width:50%;">
                    {{el.remark}}
                </div>

                <!-- 分割线 -->
                <div class="col s12">
                    <div class="divider col s12" style="background-color: #c2c0c2;margin-top: 10px;margin-bottom: 10px;"></div>
                </div>
            </div>

            <!-- 合计费用(美元) -->
            <div class="col s12 right-align" style="margin-top: 5px;">
                合计费用(美元)：<span class="red-text">{{shipTransFee.totalFee | currency}}</span>
            </div>

        </div>
    </div>

    <!-- Footer -->
    <div class="modal-footer right-align">
        <a class="btn-floating waves-effect waves-light btn cyan lighten-1 modal-close" style="width:38px;height:38px; margin-right: 50px;">
            <i class="mdi mdi-check"></i>
        </a>
    </div>
</div>

<!-- 模态画面【发票预览】 模态框 -->
<div id="previewInvoiceDiv" class="modal white black-text" style="height:700px; width: 1280px;">

    <!-- Body 发票主体内容 -->
    <div id="invoice" style="padding: 30px 20px 30px 20px">

        <!-- 发票头部 -->
        <div class="row">
            <!-- 左侧 LOG -->
            <div class="col left-align" style="width:22%;padding-left: 10px;padding-top: 10px;">
                <img src="./assets/images/logo2x.png" alt="" style="height: 90px">
            </div>
            <!-- 中间 销售方(本公司)信息 -->
            <div class="col left-align" style="width:50%;padding-left: 0">
                <!-- 销售方(本公司)信息 -->
                <div class="col s12 fz20 bold" style="margin-bottom: 5px;">{{companyInfo.name}}</div>
                <div class="col s12">{{companyInfo.address1}}</div>
                <div class="col s12">{{companyInfo.address2}}</div>
                <div class="col s12">{{companyInfo.tel}}</div>
                <div class="col s12">{{companyInfo.mail}}</div>
                <div class="col s12">{{companyInfo.website}}</div>
            </div>
            <!-- 右侧 -->
            <div class="col right-align" style="width:28%;">
                <div class="col s12 fz20 bold">Invoice</div>
                <!-- 发票编号 -->
                <div class="col s12" style="margin-top: 13px;">{{invoiceInfo.invoiceId}}</div>
                <!-- 开票时间 -->
                <div class="col s12" style="margin-top: 10px;">{{invoiceInfo.grantDate |date:'yyyy-MM-dd'}}</div>
            </div>

            <!-- 付款方(委托方)信息 -->
            <div class="col s12" style="padding-left: 0">
                <!-- 付款方(委托方)信息 -->
                <div class="col s12 fz20 bold" style="margin-top: 13px;">BILL TO</div>
                <div class="col s12" style="margin-top: 5px;">{{invoiceInfo.entrustNm}}</div>
            </div>

            <!-- 分割线 -->
            <div class="col s12">
                <div class="divider col s12" style="background-color: #c0c0c0;margin-top: 10px;"></div>
            </div>
        </div>

        <!-- 表格：仓储费用 -->
        <div class="row" ng-show="invoiceStorageOrderRelList.length > 0">
            <div class="col s12">
                <!-- 标题 暂不显示 -->
                <!--<div class="col s12 fz15 bold" style="padding-left: 0;margin-top: 20px;margin-bottom: 10px;">仓储费用</div>-->

                <table class="fz14" style="width: 100%;border:1px solid #d0d0d0">
                    <tbody>

                    <!-- Header -->
                    <tr class="blue-grey lighten-5 fz15" style="height: 20px;">
                        <th class="invoice-table-td-height tr-border" style="width:20%">Item</th>
                        <th class="invoice-table-td-height tr-border" style="width:15%">VIN</th>
                        <th class="invoice-table-td-height tr-border" style="width:15%">Date Range</th>
                        <th class="invoice-table-td-height tr-border center-align" style="width:10%">Qty</th>
                        <th class="invoice-table-td-height tr-border right-align" style="width:20%">Rate</th>
                        <th class="invoice-table-td-height tr-border right-align" style="width:20%;border-right: 0">Amount</th>
                    </tr>

                    <!-- Details -->
                    <tr ng-repeat="el in invoiceStorageOrderRelList">
                        <!-- Item -->
                        <td class="invoice-table-td-height td-border">Export-Storage fee</td>
                        <!-- VIN -->
                        <td class="invoice-table-td-height td-border">{{el.vin}}</td>
                        <!-- Date Range -->
                        <td class="invoice-table-td-height td-border">{{el.enter_time | date:'MM/dd/yy'}} - {{el.real_out_time | date:'MM/dd/yy'}}</td>
                        <!-- Qty -->
                        <td class="invoice-table-td-height td-border center-align">{{el.day_count}}</td>
                        <!-- Rate -->
                        <td class="invoice-table-td-height td-border right-align">${{el.actual_fee == 0 ? '0.00': (el.actual_fee / el.day_count | number)}}</td>
                        <!-- Amount -->
                        <td class="invoice-table-td-height last-td-border right-align">{{el.actual_fee|currency}}</td>
                    </tr>

                    <!-- Total -->
                    <tr class="fz15">
                        <td colspan="3" class="invoice-table-td-height last-row-border left-align">Total</td>
                        <td colspan="3" class="invoice-table-td-height last-row-border right-align">{{totalStorageMoney|currency}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 表格：海运费用 -->
        <div class="row" ng-show="invoiceShipTransOrderList.length > 0">
            <div class="col s12">
                <!-- 标题 暂不显示 -->
                <!--<div class="col s12 fz15 bold" style="padding-left: 0;margin-bottom: 10px;">海运费用</div>-->

                <table class="fz14" style="width: 100%;border:1px solid #d0d0d0">
                    <tbody>

                    <!-- Header -->
                    <tr class="blue-grey lighten-5 fz15" style="height: 20px;">
                        <th class="invoice-table-td-height tr-border" style="width:20%">Item</th>
                        <th class="invoice-table-td-height tr-border" style="width:15%">booking</th>
                        <th class="invoice-table-td-height tr-border" style="width:15%">VIN</th>
                        <th class="invoice-table-td-height tr-border" style="width:35%">description</th>
                        <th class="invoice-table-td-height tr-border center-align" style="width:5%">Qty</th>
                        <th class="invoice-table-td-height tr-border right-align" style="width:10%;border-right: 0">Amount</th>
                    </tr>

                    <!-- Details -->
                    <tr ng-repeat="el in invoiceShipTransOrderList">
                        <!-- Item -->
                        <td class="invoice-table-td-height td-border">{{shipTransFeeTypes[el.pay_type - 1].name}}</td>
                        <!-- booking -->
                        <td class="invoice-table-td-height td-border">{{el.booking}}</td>
                        <!-- VIN -->
                        <td class="invoice-table-td-height td-border">{{el.vin}}</td>
                        <!-- description -->
                        <td class="invoice-table-td-height td-border">{{el.remark}}</td>
                        <!-- Qty -->
                        <td class="invoice-table-td-height td-border center-align">{{el.qty}}</td>
                        <!-- Amount -->
                        <td class="invoice-table-td-height last-td-border right-align">{{el.pay_money|currency}}</td>
                    </tr>

                    <!-- Total -->
                    <tr class="fz15">
                        <td colspan="3" class="invoice-table-td-height last-row-border left-align">Total</td>
                        <td colspan="3" class="invoice-table-td-height last-row-border right-align">{{invoiceShipTransTotalMoney|currency}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 表格：金融贷款 -->
        <div class="row" ng-show="invoiceLoanRepRelArray.length > 0">
            <div class="col s12">
                <!-- 标题 暂不显示 -->
                <!--<div class="col s12 fz15 bold" style="padding-left: 0;margin-top: 20px;margin-bottom: 10px;">金融贷款</div>-->

                <table class="fz14" style="width: 100%;border:1px solid #d0d0d0">
                    <tbody>

                    <!-- Header -->
                    <tr class="blue-grey lighten-5 fz15" style="height: 20px;">
                        <th class="invoice-table-td-height tr-border" style="width:15%">Item</th>
                        <th class="invoice-table-td-height tr-border" style="width:33%">description</th>
                        <th class="invoice-table-td-height tr-border" style="width:12%">VIN</th>
                        <th class="invoice-table-td-height tr-border center-align" style="width:10%">Qty</th>
                        <th class="invoice-table-td-height tr-border right-align" style="width:15%">Rate</th>
                        <th class="invoice-table-td-height tr-border right-align" style="width:15%;border-right: 0">Amount</th>
                    </tr>

                    <!-- Details -->
                    <!--<tr ng-repeat="el in invoiceLoanRepRelList">-->
                        <!--&lt;!&ndash; Item &ndash;&gt;-->
                        <!--<td class="invoice-table-td-height td-border" style="height: 55px;">{{loanInfo.loanInterest}}<br>{{loanInfo.bankServices}}</td>-->
                        <!--&lt;!&ndash; description &ndash;&gt;-->
                        <!--<td class="invoice-table-td-height td-border">-->
                            <!--{{el.repayment_money | currency}} ({{el.loan_start_date | date:'MM/dd/yy'}} - {{el.loan_start_date | date:'MM/dd/yy'}}) {{el.rate}}% {{loanInfo.interestRate}}-->
                            <!--<br>-->
                            <!--{{loanInfo.lcFee}}-->
                            <!--<br>-->
                            <!--{{loanInfo.wireTransferFee}}-->
                        <!--</td>-->
                        <!--&lt;!&ndash; VIN &ndash;&gt;-->
                        <!--<td class="invoice-table-td-height td-border center-align">12345678901234567<br>12345678901234567<br>12345678901234567<br>12345678901234567<br>12345678901234567</td>-->
                        <!--&lt;!&ndash; Qty &ndash;&gt;-->
                        <!--<td class="invoice-table-td-height td-border center-align">{{el.day_count}}<br>1<br>1</td>-->
                        <!--&lt;!&ndash; Rate &ndash;&gt;-->
                        <!--<td class="invoice-table-td-height td-border right-align">${{el.interest_money == 0 ? '0.00': (el.interest_money / el.day_count | number)}}<br>{{el.fee|currency}}<br>{{el.fee|currency}}</td>-->
                        <!--&lt;!&ndash; Amount &ndash;&gt;-->
                        <!--<td class="invoice-table-td-height last-td-border right-align">{{el.interest_money|currency}}<br>{{el.fee|currency}}<br>{{el.fee|currency}}</td>-->
                    <!--</tr>-->

                    <!-- Details -->
                    <tr ng-repeat="el in invoiceLoanRepRelArray">
                        <!-- Item -->
                        <td class="invoice-table-td-height td-border" style="height: 55px;">{{loanInfo.loanInterest}}</td>
                        <!-- description -->
                        <td class="invoice-table-td-height td-border">
                            {{el.repayment_money | currency}} ({{el.loan_start_date | date:'MM/dd/yy'}} - {{el.loan_start_date | date:'MM/dd/yy'}}) {{el.rate}}% {{loanInfo.interestRate}}
                        </td>
                        <!-- VIN -->
                        <td class="invoice-table-td-height td-border center-align">
                            <span ng-repeat="v in el.vin">{{v}}<br></span>
                        </td>
                        <!-- Qty -->
                        <td class="invoice-table-td-height td-border center-align">{{el.day_count}}</td>
                        <!-- Rate -->
                        <td class="invoice-table-td-height td-border right-align">${{el.interest_money == 0 ? '0.00': (el.interest_money / el.day_count | number)}}</td>
                        <!-- Amount -->
                        <td class="invoice-table-td-height last-td-border right-align">{{el.interest_money|currency}}</td>
                    </tr>

                    <!-- Total -->
                    <tr class="fz15">
                        <td colspan="3" class="invoice-table-td-height last-row-border left-align">Total</td>
                        <!--<td colspan="3" class="invoice-table-td-height last-row-border right-align">{{totalPaymentMoney|currency}}</td>-->
                        <td colspan="3" class="invoice-table-td-height last-row-border right-align">{{totalInterestMoney|currency}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 表格：金融贷款 - lc_handling_fee  -->
        <div class="row" ng-show="invoicePaymentCarArray.length > 0">
            <div class="col s12">
                <!-- 标题 暂不显示 -->
                <!--<div class="col s12 fz15 bold" style="padding-left: 0;margin-top: 20px;margin-bottom: 10px;">金融贷款</div>-->

                <table class="fz14" style="width: 100%;border:1px solid #d0d0d0">
                    <tbody>

                    <!-- Header -->
                    <tr class="blue-grey lighten-5 fz15" style="height: 20px;">
                        <th class="invoice-table-td-height tr-border" style="width:20%">Item</th>
                        <th class="invoice-table-td-height tr-border" style="width:20%">VIN</th>
                        <th class="invoice-table-td-height tr-border center-align" style="width:10%">Qty</th>
                        <th class="invoice-table-td-height tr-border right-align" style="width:25%">Rate</th>
                        <th class="invoice-table-td-height tr-border right-align" style="width:25%;border-right: 0">Amount</th>
                    </tr>

                    <!-- Details -->
                    <tr ng-repeat="el in invoicePaymentCarArray">
                        <!-- Item -->
                        <td class="invoice-table-td-height td-border">{{loanInfo.lcFee}}</td>
                        <!-- VIN -->
                        <td class="invoice-table-td-height td-border center-align">{{el.vin}}</td>
                        <!-- Qty -->
                        <td class="invoice-table-td-height td-border center-align">1</td>
                        <!-- Rate -->
                        <td class="invoice-table-td-height td-border right-align">{{el.lc_handling_fee|currency}}</td>
                        <!-- Amount -->
                        <td class="invoice-table-td-height last-td-border right-align">{{el.lc_handling_fee|currency}}</td>
                    </tr>

                    <!-- Total -->
                    <tr class="fz15">
                        <td colspan="2" class="invoice-table-td-height last-row-border left-align">Total</td>
                        <td colspan="3" class="invoice-table-td-height last-row-border right-align">{{totalLcFee|currency}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 表格：金融贷款 - lc_handling_fee  -->
        <div class="row" ng-show="invoicePaymentCarArray.length > 0">
            <div class="col s12">
                <!-- 标题 暂不显示 -->
                <!--<div class="col s12 fz15 bold" style="padding-left: 0;margin-top: 20px;margin-bottom: 10px;">金融贷款</div>-->

                <table class="fz14" style="width: 100%;border:1px solid #d0d0d0">
                    <tbody>

                    <!-- Header -->
                    <tr class="blue-grey lighten-5 fz15" style="height: 20px;">
                        <th class="invoice-table-td-height tr-border" style="width:20%">Item</th>
                        <th class="invoice-table-td-height tr-border" style="width:20%">VIN</th>
                        <th class="invoice-table-td-height tr-border center-align" style="width:10%">Qty</th>
                        <th class="invoice-table-td-height tr-border right-align" style="width:25%">Rate</th>
                        <th class="invoice-table-td-height tr-border right-align" style="width:25%;border-right: 0">Amount</th>
                    </tr>

                    <!-- Details -->
                    <tr ng-repeat="el in invoicePaymentCarArray">
                        <!-- Item -->
                        <td class="invoice-table-td-height td-border">{{loanInfo.bankServices}}</td>
                        <!-- VIN -->
                        <td class="invoice-table-td-height td-border center-align">{{el.vin}}</td>
                        <!-- Qty -->
                        <td class="invoice-table-td-height td-border center-align">1</td>
                        <!-- Rate -->
                        <td class="invoice-table-td-height td-border right-align">{{el.bank_services_fee|currency}}</td>
                        <!-- Amount -->
                        <td class="invoice-table-td-height last-td-border right-align">{{el.bank_services_fee|currency}}</td>
                    </tr>

                    <!-- Total -->
                    <tr class="fz15">
                        <td colspan="2" class="invoice-table-td-height last-row-border left-align">Total</td>
                        <td colspan="3" class="invoice-table-td-height last-row-border right-align">{{totalBankServiceFee|currency}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 发票总金额 -->
        <div class="row">
            <!-- 分割线 -->
            <div class="col s12" style="margin-top: 25px;margin-bottom: 10px;">
                <div class="divider col s12" style="background-color: #c0c0c0;margin-top: 10px;margin-bottom: 10px;"></div>
            </div>

            <div class="col s12 fz16 bold">
                <div class="col s6 left-align" style="padding-left: 0">Invoice Total Fee</div>
                <div class="col s6 right-align" style="padding-right: 0">{{totalStorageMoney + invoiceShipTransTotalMoney + totalPaymentMoney|currency}}</div>
            </div>
        </div>
    </div>

    <!-- Footer 画面操作按钮 -->
    <div class="right-align" style="margin-bottom: 20px;">
        <a class="btn-floating waves-effect waves-light btn modal-close grey" style="width:38px;height:38px; margin-right: 50px;">
            <i class="mdi mdi-close"></i>
        </a>

        <a class="btn-floating waves-effect waves-light btn cyan lighten-1" style="width:38px;height:38px; margin-right: 30px;"
           ng-click="downloadInvoice()">
            <i class="mdi mdi-download" title="下载"></i>
        </a>
    </div>
</div>